!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},n.parcelRequired7c6=i),i.register("iE7OH",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("aNJCr",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var o={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),o[e]=t),t}})),i("iE7OH").register(JSON.parse('{"j6SMT":"shopping_books.9e5239ac.js","c2e7b":"amazon.681e64c0.png","hSNyR":"Book.d2e82142.png","6VeES":"BookShop.19aca9ae.png"}'));var s;s=i("aNJCr").getBundleURL("j6SMT")+i("iE7OH").resolve("c2e7b");var c;c=i("aNJCr").getBundleURL("j6SMT")+i("iE7OH").resolve("hSNyR");var a;a=i("aNJCr").getBundleURL("j6SMT")+i("iE7OH").resolve("6VeES"),console.log("my_shopping-list-Серг");var l,u=N(),d=(l=localStorage.getItem("shoppingList"))?JSON.parse(l):[],f=d.length;console.log("bookList",d);var v=O(),g=Math.ceil(f/v),m=B(),p=1,h=0,b=M(),L=1,k=R();console.log("totalBook",f),console.log("perPage",v),console.log("totalPage",g),console.log("currentPage",p),console.log("maxBtn",k),console.log("howManyBtn",b);var S=document.querySelector(".shopping-list"),w=document.querySelector(".empty-book-wrapper"),y=[],E=document.querySelector(".shopping-list-btn");E.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return void console.log("мимо");switch(e.target.dataset.turn){case"start":!function(){if(1===L)return void console.log("тиць");_[L-1].classList.remove("turn-active"),p=1,L=1,H(),j()}();break;case"prev":!function(){if(1===p)return void console.log("тиць");2===L&&p>2?p--:(_[L-1].classList.remove("turn-active"),p--,L--);H(),j()}();break;case"1":if(1===L||p>L)break;_[L-1].classList.remove("turn-active"),p-=L-1,L=1,H(),j();break;case"2":2!==L&&(_[L-1].classList.remove("turn-active"),p-=L-2,L=2,H(),j());break;case"3":if(3===L||g-p>k-L&&u)break;_[L-1].classList.remove("turn-active"),p-=L-3,L=3,H(),j();break;case"4":if(4===L||g-p>k-L){console.log("totalPage - currentPage",g-p),console.log("maxBtn - currentBtn",k-L);break}console.log("ok ok"),_[L-1].classList.remove("turn-active"),p-=L-4,L=4,H(),j();break;case"next":p<g&&(L===k-1&&g>p+1?p++:(_[L-1].classList.remove("turn-active"),p++,L++),H(),j());break;case"end":!function(){if(L===b)return void console.log("тиць");_[L-1].classList.remove("turn-active"),p=g,L=b,H(),j()}()}}));var _=document.querySelectorAll(".turn-number");function x(e){for(var t=0;t<h;t++)y[t].removeEventListener("click",x);var n,r=Number(e.target.dataset.set)+(p-1)*v;if(d.splice(r,1),f=d.length,n=d,localStorage.setItem("shoppingList",JSON.stringify(n)),f){var o=g;(g=Math.ceil(f/v))<o&&(b=M(),g<=k?(L>1&&(_[L-1].classList.remove("turn-active"),L--,p--),T(),j()):p>g&&(p=g,j())),m=B(),H()}else!function(){w.classList.remove("is-hidden"),E.classList.add("is-hidden"),S.innerHTML="";for(var e=0;e<_.length;e++)_[e].classList.contains("is-hidden")||_[e].classList.add("is-hidden");u=N(),f=d.length,v=O(),g=Math.ceil(f/v),m=B(),p=1,h=0,b=M(),L=1,k=R(),T()}()}function H(){if(f){w.classList.contains("is-hidden")||w.classList.add("is-hidden"),E.classList.remove("is-hidden"),h=f>=p*v?v:m;for(var e=(p-1)*v,n=[],r=0;r<h;r++){var o='\n            <li class="shopping-item">\n                <div class="item-card-thumb">\n                    <img src="'.concat(d[r+e].book_image,'" alt="book">\n                </div>       \n                <div class="item-card-wrap">\n                    <h3 class="item-card-title">').concat(d[r+e].title,'</h3>\n                    <p class="item-card-category">').concat(d[r+e].list_name,'</p>\n                    <p class="item-card-desc">').concat(d[r+e].description,'</p>       \n                    <div class="item-card-bottom-wrap">\n                        <p class="item-card-author">').concat(d[r+e].author,'</p>\n                        <ul class="item-card-stores-wrap">\n                            <li class="item-card-icons">\n                                <img src=').concat(t(s),' width="32" alt="b">\n                            </li>\n                            <li class="item-card-icon">\n                                <img src=').concat(t(c),' width="30" alt="b">\n                            </li>\n                            <li class="item-card-icon">\n                                <img src=').concat(t(a),' width="30" alt="b">\n                            </li>\n                        </ul>\n                    </div>\n                    <button class="remove-btn" data-set="').concat(r,'">x</button>\n                </div>\n            </li>\n        ');n[r]=o}var i=n.join("");S.innerHTML=i,y=document.querySelectorAll(".remove-btn");for(var l=0;l<h;l++)y[l].addEventListener("click",x)}else console.log("Книг нет")}function N(){return!(window.innerWidth>767)}function O(){return u?4:3}function B(){return f%v}function M(){return u?g>2?3:g:g>3?4:g}function R(){return u?3:4}function T(){for(var e=0;e<k;e++)_[e].classList.contains("is-hidden")||_[e].classList.add("is-hidden");for(var t=0;t<b;t++)_[t].classList.remove("is-hidden")}function j(){for(var e=0;e<b;e++)_[e].textContent=p-L&&!e||g-p>k-L&&e===b-1?"...":p-(L-1)+e;_[L-1].classList.add("turn-active")}T(),j(),H()}();
//# sourceMappingURL=shopping_books.9e5239ac.js.map
