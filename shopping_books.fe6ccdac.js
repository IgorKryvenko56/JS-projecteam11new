function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},n.parcelRequired7c6=i),i.register("kyEFX",(function(t,n){var o,r;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var i={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},r=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i("kyEFX").register(JSON.parse('{"fA2Vv":"shopping_books.fe6ccdac.js","aTOk5":"amazon.681e64c0.png","eAwa4":"Book.d2e82142.png","26dpu":"BookShop.19aca9ae.png"}'));var s;s=new URL(i("kyEFX").resolve("aTOk5"),import.meta.url).toString();var c;c=new URL(i("kyEFX").resolve("eAwa4"),import.meta.url).toString();var a;a=new URL(i("kyEFX").resolve("26dpu"),import.meta.url).toString(),console.log("my_shopping-list-Серг");let l=O();const d=function(){const e=localStorage.getItem("shoppingList");return e?JSON.parse(e):[]}();let u=d.length;console.log("bookList",d);let f=F(),g=Math.ceil(u/f),v=H(),m=1,p=0,b=A(),h=1,L=R();console.log("totalBook",u),console.log("perPage",f),console.log("totalPage",g),console.log("currentPage",m),console.log("maxBtn",L),console.log("howManyBtn",b);const k=document.querySelector(".shopping-list"),w=document.querySelector(".empty-book-wrapper");let y=[];const S=document.querySelector(".shopping-list-btn");S.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return void console.log("мимо");switch(e.target.dataset.turn){case"start":!function(){if(1===h)return void console.log("тиць");_[h-1].classList.remove("turn-active"),m=1,h=1,x(),$()}();break;case"prev":!function(){if(1===m)return void console.log("тиць");2===h&&m>2?m--:(_[h-1].classList.remove("turn-active"),m--,h--);x(),$()}();break;case"1":if(1===h||m>h)break;_[h-1].classList.remove("turn-active"),m-=h-1,h=1,x(),$();break;case"2":2!==h&&(_[h-1].classList.remove("turn-active"),m-=h-2,h=2,x(),$());break;case"3":if(3===h||g-m>L-h&&l)break;_[h-1].classList.remove("turn-active"),m-=h-3,h=3,x(),$();break;case"4":if(4===h||g-m>L-h){console.log("totalPage - currentPage",g-m),console.log("maxBtn - currentBtn",L-h);break}console.log("ok ok"),_[h-1].classList.remove("turn-active"),m-=h-4,h=4,x(),$();break;case"next":m<g&&(h===L-1&&g>m+1?m++:(_[h-1].classList.remove("turn-active"),m++,h++),x(),$());break;case"end":!function(){if(h===b)return void console.log("тиць");_[h-1].classList.remove("turn-active"),m=g,h=b,x(),$()}()}}));const _=document.querySelectorAll(".turn-number");function E(e){for(let e=0;e<p;e++)y[e].removeEventListener("click",E);const t=Number(e.target.dataset.set)+(m-1)*f;var n;if(d.splice(t,1),u=d.length,n=d,localStorage.setItem("shoppingList",JSON.stringify(n)),!u)return void function(){w.classList.remove("is-hidden"),S.classList.add("is-hidden"),k.innerHTML="";for(let e=0;e<_.length;e++)_[e].classList.contains("is-hidden")||_[e].classList.add("is-hidden");l=O(),u=d.length,f=F(),g=Math.ceil(u/f),v=H(),m=1,p=0,b=A(),h=1,L=R(),T()}();let o=g;g=Math.ceil(u/f),g<o&&(b=A(),g<=L?(h>1&&(_[h-1].classList.remove("turn-active"),h--,m--),T(),$()):m>g&&(m=g,$())),v=H(),x()}function x(){if(!u)return void console.log("Книг нет");w.classList.contains("is-hidden")||w.classList.add("is-hidden"),S.classList.remove("is-hidden"),p=u>=m*f?f:v;const e=(m-1)*f,n=[];for(let o=0;o<p;o++){const r=`\n            <li class="shopping-item">\n                <div class="item-card-thumb">\n                    <img src="${d[o+e].book_image}" alt="book">\n                </div>       \n                <div class="item-card-wrap">\n                    <h3 class="item-card-title">${d[o+e].title}</h3>\n                    <p class="item-card-category">${d[o+e].list_name}</p>\n                    <p class="item-card-desc">${d[o+e].description}</p>       \n                    <div class="item-card-bottom-wrap">\n                        <p class="item-card-author">${d[o+e].author}</p>\n                        <ul class="item-card-stores-wrap">\n                            <li class="item-card-icons">\n                                <img src=${t(s)} width="32" alt="b">\n                            </li>\n                            <li class="item-card-icon">\n                                <img src=${t(c)} width="30" alt="b">\n                            </li>\n                            <li class="item-card-icon">\n                                <img src=${t(a)} width="30" alt="b">\n                            </li>\n                        </ul>\n                    </div>\n                    <button class="remove-btn" data-set="${o}">x</button>\n                </div>\n            </li>\n        `;n[o]=r}const o=n.join("");k.innerHTML=o,y=document.querySelectorAll(".remove-btn");for(let e=0;e<p;e++)y[e].addEventListener("click",E)}function O(){return!(window.innerWidth>767)}function F(){return l?4:3}function H(){return u%f}function A(){return l?g>2?3:g:g>3?4:g}function R(){return l?3:4}function T(){for(let e=0;e<L;e++)_[e].classList.contains("is-hidden")||_[e].classList.add("is-hidden");for(let e=0;e<b;e++)_[e].classList.remove("is-hidden")}function $(){for(let e=0;e<b;e++)_[e].textContent=m-h&&!e||g-m>L-h&&e===b-1?"...":m-(h-1)+e;_[h-1].classList.add("turn-active")}T(),$(),x();
//# sourceMappingURL=shopping_books.fe6ccdac.js.map
